{% extends 'base.html.twig' %}

{% block title %}
    Liste d'utilisateur
{% endblock %}

{% block body %}
    <main>
        <table id ="listprojets" class="display" cellspacing="0" width="90%"> 
            <thead> 
                <tr>
                    <th>nom</th> 
                    <th>prenom</th>
                    <th>role</th> 
                    <th>mail</th> 
                    <th>password</th> 
                    <th>tel</th>
                    <th>slack</th>
                    <th></th>
                    <th></th>
                 </tr> 
            </thead>
            <tbody>
            {% for projet in projets %}
            <tr>
                <td>{{ utilisateur.nom }}</td>
                <td>{{ utilisateur.prenom }}</td>
                <td>{{ utilisateur.role }}</td>
                <td>{{ utilisateur.mail }}</td>
                <td>{{ utilisateur.password }}</td>
                <td>{{ utilisateur.tel }}</td>
                <td>{{ utilisateur.slack }}</td>
                <td></td>
                <td> 
                    <a class="btn modal-trigger tooltipped grey lighten-1" href="#projet" data-delay="50"><i class="material-icons right">arrow_drop_down</i></a>
                </td>
            </tr>  
                <div id="projet" class="modal">
                        <form method="post" action="{{ path('utilisateur_edit', { 'id': utilisateur.id }) }}" enctype="multipart/form-data">
                            <div class="modal-content row">
                                <h4>Modification du projet</h4>
                                <div class="row">
                                    <div class="input-field col s6">
                                        <input id="nom" name="nom" type="text" class="validate" value="{{ utilisateur.nom }}" >
                                        <label for="nom">Nom</label>
                                    </div>
                                     <div class="row">
                                    <div class="input-field col s6">
                                        <input id="prenom" name="prenom" type="text" class="validate" value="{{ utilisateur.prenom }}">
                                        <label for="prenom">Numero_voie</label>
                                    </div>
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input id="role" type="text" name="role" class="validate" value="{{ utilisateur.role }}">
                                        <label for="role">Voie</label>
                                    </div>
                                </div
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input id="mail" type="text" name="mail" class="validate" value="{{{ utilisateur.mail }}">
                                        <label for="mail">Code Postal</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input id="password" type="text" name="password" class="validate" value="{{ utilisateur.password }}">
                                        <label for="password">Ville</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input id="tel" name="tel" type="text" class="validate" required value="{{ utilisateur.tel }}">
                                        <label for="tel">Siret</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input id="slack" name="slack" type="text" class="validate" required value="{{ utilisateur.slack }}">
                                        <label for="slack">Type</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="input-field col s12">
                                        <input id="domaine" name="domaine" type="text" class="validate" required value="{{ entreprise.domaine }}">
                                        <label for="domaine">Domaine</label>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" name="valider" class="modal-action waves-effect waves-green btn-flat">Valider</button>
                            </div>
                        </form>
                    </div>  
            </tbody>    
            <tfoot> 
                <tr> 
                    <th>nom</th> 
                    <th>prenom</th>
                    <th>role</th> 
                    <th>mail</th> 
                    <th>password</th> 
                    <th>tel</th>
                    <th>slack</th>
                    <th></th>
                    <th></th>
                </tr> 
            </tfoot> 
        </table>
    </main>
{% endblock %}

    
{% block stylesheets %}
    <style>
    body { background: #F5F5F5; font: 18px/1.5 sans-serif; }
    h1, h2 { line-height: 1.2; margin: 0 0 .5em; }
    h1 { font-size: 36px; }
    h2 { font-size: 21px; margin-bottom: 1em; }
    p { margin: 0 0 1em 0; }
    a { color: #0000F0; }
    a:hover { text-decoration: none; }
    code { background: #F5F5F5; max-width: 100px; padding: 2px 6px; word-wrap: break-word; }
    #wrapper { background: #FFF; margin: 1em auto; max-width: 800px; width: 95%; }
    #container { padding: 2em; }
    #welcome, #status { margin-bottom: 2em; }
    #welcome h1 span { display: block; font-size: 75%; }
    #icon-status, #icon-book { float: left; height: 64px; margin-right: 1em; margin-top: -4px; width: 64px; }
    #icon-book { display: none; }
    

    @media (min-width: 768px) {
        #wrapper { width: 80%; margin: 2em auto; }
        #icon-book { display: inline-block; }
        #status a, #next a { display: block; }

        @-webkit-keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
        @keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
        .sf-toolbar { opacity: 0; -webkit-animation: fade-in 1s .2s forwards; animation: fade-in 1s .2s forwards;}
    }
</style>
{% endblock %}
{% block javascripts %}
 <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.js"></script>
    <script>
        $(document).ready(function() {
        $('#listprojets').DataTable();
        } );
    </script>
<script type="text/javascript">
        $(document).ready(function(){
            $('.tooltipped').tooltip({delay: 50});
            $('.modal').modal();
        });
    </script>
{% endblock %}
    